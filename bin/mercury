#!/usr/bin/env ruby

require 'rubygems'
require 'fileutils'

version = ">= 0"

if ARGV.first
  # Build Directory and add setup files
  FileUtils.mkdir_p ARGV.first
  FileUtils.mkdir_p ARGV.first + '/views'
  File.open(ARGV.first + '/config.ru','w').write("require 'mercury'\nrun Mercury\n")
  
else
  puts "Running Mercury on port:9292"
  puts "Press Ctrl-C to exit"
  # try to run in current directory
  gem 'rack', version
  load Gem.bin_path('rack', 'rackup', version)  
end
